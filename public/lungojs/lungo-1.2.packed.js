/**
 *
 *    /$$
 *   | $$
 *   | $$       /$$   /$$ /$$$$$$$   /$$$$$$   /$$$$$$
 *   | $$      | $$  | $$| $$__  $$ /$$__  $$ /$$__  $$
 *   | $$      | $$  | $$| $$  \ $$| $$  \ $$| $$  \ $$
 *   | $$      | $$  | $$| $$  | $$| $$  | $$| $$  | $$
 *   | $$$$$$$$|  $$$$$$/| $$  | $$|  $$$$$$$|  $$$$$$/
 *   |________/ \______/ |__/  |__/ \____  $$ \______/
 *                                  /$$  \ $$
 *                                 |  $$$$$$/
 *                                  \______/
 *
 * @copyright 2011-2012 TapQuo Inc (c)
 * @license   http://www.github.com/tapquo/lungo/blob/master/LICENSE.txt
 * @version   1.2
 * @link      https://github.com/TapQuo/Lungo.js
 *
 * @author   Javier Jimenez Villar <javi@tapquo.com> || @soyjavi
 * @author   Guillermo Pascual <pasku@tapquo.com> || @pasku1
 */
var Quo=function(){function a(j,d){j=j||h;j.__proto__=a.prototype;j.selector=d||"";return j}function f(j){if(j){var d=f.getDomainSelector(j);return a(d,j)}else return a()}var h=[];f.extend=function(j){Array.prototype.slice.call(arguments,1).forEach(function(d){for(key in d)j[key]=d[key]});return j};a.prototype=f.fn={};return f}();window.Quo=Quo;"$$"in window||(window.$$=Quo);
(function(a){function f(d){return d.filter(function(i){return i!==undefined&&i!==null})}var h=Object.prototype,j=[];a.toType=function(d){return h.toString.call(d).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()};a.isOwnProperty=function(d,i){return h.hasOwnProperty.call(d,i)};a.getDomainSelector=function(d){var i=null,b=[1,9,11],e=a.toType(d);if(e==="array")i=f(d);else if(e==="string")i=a.query(document,d);else if(b.indexOf(d.nodeType)>=0||d===window)i=[d];return i};a.map=function(d,i){var b=[],e;if(a.toType(d)===
"array")for(e=0;e<d.length;e++){var g=i(d[e],e);g!=null&&b.push(g)}else for(e in d){g=i(d[e],e);g!=null&&b.push(g)}return b.length>0?[].concat.apply([],b):b};a.each=function(d,i){var b;if(a.toType(d)==="array")for(b=0;b<d.length;b++){if(i.call(d[b],b,d[b])===false)break}else for(b in d)if(i.call(d[b],b,d[b])===false)break;return d};a.mix=function(){for(var d={},i=0,b=arguments.length;i<b;i++){var e=arguments[i],g;for(g in e)if(a.isOwnProperty(e,g)&&e[g]!==undefined)d[g]=e[g]}return d};a.fn.forEach=
j.forEach;a.fn.indexOf=j.indexOf;a.fn.map=function(d){return a.map(this,function(i,b){return d.call(i,b,i)})};a.fn.instance=function(d){return this.map(function(){return this[d]})};a.fn.filter=function(d){return a([].filter.call(this,function(i){return i.parentNode&&a.query(i.parentNode,d).indexOf(i)>=0}))}})(Quo);
(function(a){a.fn.attr=function(f,h){return a.toType(f)==="string"&&h===undefined?this[0].getAttribute(f):this.each(function(){this.setAttribute(f,h)})};a.fn.data=function(f,h){return this.attr("data-"+f,h)};a.fn.val=function(f){return a.toType(f)==="string"?this.each(function(){this.value=f}):this.length>0?this[0].value:null};a.fn.show=function(){return this.style("display","block")};a.fn.hide=function(){return this.style("display","none")};a.fn.height=function(){return this.offset().height};a.fn.width=
function(){return this.offset().width};a.fn.offset=function(){var f=this[0].getBoundingClientRect();return{left:f.left+window.pageXOffset,top:f.top+window.pageYOffset,width:f.width,height:f.height}};a.fn.remove=function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})}})(Quo);
(function(a){var f=/WebKit\/([\d.]+)/,h={android:/(Android)\s+([\d.]+)/,ipad:/(iPad).*OS\s([\d_]+)/,iphone:/(iPhone\sOS)\s([\d_]+)/,blackberry:/(BlackBerry).*Version\/([\d.]+)/,webos:/(webOS|hpwOS)[\s\/]([\d.]+)/},j=null;a.isMobile=function(){j=j||d();return j.isMobile};a.environment=function(){return j=j||d()};a.isOnline=function(){return navigator.onLine};var d=function(){var i=navigator.userAgent,b={},e=i.match(f);b.browser=e?e[0]:i;var g;for(os in h)if(e=i.match(h[os])){g={name:os==="iphone"||
os==="ipad"?"ios":os,version:e[2].replace("_",".")};break}b.os=g;b.isMobile=b.os?true:false;b.screen={width:window.innerWidth,height:window.innerHeight};return b}})(Quo);
(function(a){a.fn.text=function(f){return!f?this[0].textContent:this.each(function(){this.textContent=f})};a.fn.html=function(f){return a.toType(f)==="string"?this.each(function(){this.innerHTML=f}):this[0].innerHTML};a.fn.append=function(f){return this.each(function(){if(a.toType(f)==="string"){if(f){var h=document.createElement();h.innerHTML=f;this.appendChild(h.firstChild)}}else this.insertBefore(f)})};a.fn.prepend=function(f){return this.each(function(){if(a.toType(f)==="string")this.innerHTML=
f+this.innerHTML;else{var h=this.parentNode;h.insertBefore(f,h.firstChild)}})};a.fn.empty=function(){return this.each(function(){this.innerHTML=null})}})(Quo);
(function(a){a.query=function(j,d){var i=document.querySelectorAll(d);return i=Array.prototype.slice.call(i)};a.fn.parent=function(j){var d=j?f(this):this.instance("parentNode");return h(d,j)};a.fn.siblings=function(j){var d=this.map(function(i,b){return Array.prototype.slice.call(b.parentNode.children).filter(function(e){return e!==b})});return h(d,j)};a.fn.children=function(j){var d=this.map(function(){return Array.prototype.slice.call(this.children)});return h(d,j)};a.fn.get=function(j){return j===
undefined?this:this[j]};a.fn.first=function(){return a(this[0])};a.fn.last=function(){return a(this[this.length-1])};a.fn.closest=function(j,d){var i=this[0],b=a(j);for(b.length||(i=null);i&&b.indexOf(i)<0;)i=i!==d&&i!==document&&i.parentNode;return a(i)};a.fn.each=function(j){this.forEach(function(d,i){j.call(d,i,d)});return this};var f=function(j){for(var d=[];j.length>0;)j=a.map(j,function(i){if((i=i.parentNode)&&i!==document&&d.indexOf(i)<0){d.push(i);return i}});return d},h=function(j,d){return d===
undefined?a(j):a(j).filter(d)}})(Quo);
(function(a){function f(h,j){return j.split(/\s+/g).indexOf(h)>=0}a.fn.addClass=function(h){return this.each(function(){f(h,this.className)||(this.className+=" "+h)})};a.fn.removeClass=function(h){return this.each(function(){if(f(h,this.className))this.className=this.className.replace(h," ").replace(/\s+/gi," ")})};a.fn.toggleClass=function(h){return this.each(function(){if(f(h,this.className))this.className=this.className.replace(h," ");else this.className+=" "+h})};a.fn.hasClass=function(h){return f(h,
this[0].className)};a.fn.style=function(h,j){return!j?this[0].style[h]||document.defaultView.getComputedStyle(this[0],"")[h]:this.each(function(){this.style[h]=j})}})(Quo);
(function(a){function f(e,g){if(g.contentType)g.headers["Content-Type"]=g.contentType;if(g.dataType)g.headers.Accept=i[g.dataType];for(header in g.headers)e.setRequestHeader(header,g.headers[header])}function h(e,g){e.onreadystatechange={};e.abort();g.error.call(g.context,"QuoJS \u00bb $$.ajax : timeout exceeded",e,g)}function j(e,g){var c=e.responseText;if(c)if(g.dataType===d.MIME)try{c=JSON.parse(c)}catch(k){c=k;g.error.call(g.context,"Parse Error",e,g)}else if(g.dataType==="xml")c=e.responseXML;
return c}var d={TYPE:"GET",MIME:"json"},i={script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},b=0;a.ajaxSettings={type:d.TYPE,async:true,success:{},error:{},context:null,dataType:d.MIME,headers:{},xhr:function(){return new window.XMLHttpRequest},crossDomain:false,timeout:0};a.ajax=function(e){var g=a.mix(a.ajaxSettings,e);if(/=\?/.test(g.url))return a.jsonp(g);var c=g.xhr();c.onreadystatechange=function(){if(c.readyState===
4){clearTimeout(k);if(c.status===200||c.status===0){if(g.async){var m=j(c,g);g.success.call(g.context,m,c)}}else g.error.call(g.context,"QuoJS \u00bb $$.ajax",c,g)}};c.open(g.type,g.url,g.async);f(c,g);if(g.timeout>0)var k=setTimeout(function(){h(c,g)},g.timeout);c.send(g.data);return g.async?c:j(c,g)};a.jsonp=function(e){var g="jsonp"+ ++b,c=document.createElement("script"),k={abort:function(){a(c).remove();if(g in window)window[g]={}}},m;window[g]=function(n){clearTimeout(m);a(c).remove();delete window[g];
e.success.call(e.context,n,k)};c.src=e.url.replace(/=\?/,"="+g);a("head").append(c);if(e.timeout>0)m=setTimeout(function(){h(k,e)},e.timeout);return k};a.get=function(e,g,c,k){e+=a.serializeParameters(g);return a.ajax({url:e,success:c,dataType:k})};a.post=function(e,g,c,k){return a.ajax({type:"POST",url:e,data:g,success:c,dataType:k,contentType:"application/x-www-form-urlencoded"})};a.json=function(e,g,c){e+=a.serializeParameters(g);return a.ajax({url:e,success:c,dataType:d.MIME})};a.serializeParameters=
function(e){var g="?",c;for(c in e)if(e.hasOwnProperty(c)){if(g!=="?")g+="&";g+=c+"="+e[c]}return g==="?"?"":g}})(Quo);
(function(a){var f={touch:"touchstart",tap:"tap"},h=/complete|loaded|interactive/;["touch","tap"].forEach(function(j){a.fn[j]=function(d){a(document.body).delegate(this.selector,f[j],d);return this}});a.fn.on=function(j,d,i){return d===undefined||a.toType(d)==="function"?this.bind(j,d):this.delegate(d,j,i)};a.fn.off=function(j,d,i){return d===undefined||a.toType(d)==="function"?this.unbind(j,d):this.undelegate(d,j,i)};a.fn.ready=function(j){h.test(document.readyState)?j(a):document.addEventListener("DOMContentLoaded",
function(){j(a)},false);return this}})(Quo);
(function(a){function f(k,m,n,r,s){m=(a.isMobile()?m:c[m])||m;var v=k._id||(k._id=b++);v=e[v]||(e[v]=[]);s=s&&s(n,m);m={event:m,callback:n,selector:r,proxy:j(s,n,k),delegate:s,index:v.length};v.push(m);k.addEventListener(m.event,m.proxy,false)}function h(k,m,n,r){m=(a.isMobile()?m:c[m])||m;var s=k._id||(k._id=b++);d(s,m,n,r).forEach(function(v){delete e[s][v.index];k.removeEventListener(v.event,v.proxy,false)})}function j(k,m,n){m=k||m;return function(r){var s=m.apply(n,[r].concat(r.data));s===false&&
r.preventDefault();return s}}function d(k,m,n,r){return(e[k]||[]).filter(function(s){return s&&(!m||s.event==m)&&(!n||s.fn==n)&&(!r||s.selector==r)})}function i(k){var m=a.extend({originalEvent:k},k);a.each(g,function(n,r){m[n]=function(){this[r]=function(){return true};return k[n].apply(k,arguments)};m[r]=function(){return false}});return m}var b=1,e={},g={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},c={touchstart:"mousedown",
touchmove:"mousemove",touchend:"mouseup",tap:"click",doubletap:"dblclick",orientationchange:"resize"};a.Event=function(k){var m=document.createEvent("Events");m.initEvent(k,true,true,null,null,null,null,null,null,null,null,null,null,null,null);return m};a.fn.bind=function(k,m){return this.each(function(){f(this,k,m)})};a.fn.unbind=function(k,m){return this.each(function(){h(this,k,m)})};a.fn.delegate=function(k,m,n){return this.each(function(r,s){f(s,m,n,k,function(v){return function(z){var y=a(z.target).closest(k,
s).get(0);if(y){var l=a.extend(i(z),{currentTarget:y,liveFired:s});return v.apply(y,[l].concat([].slice.call(arguments,1)))}}})})};a.fn.undelegate=function(k,m,n){return this.each(function(){h(this,m,n,k)})};a.fn.trigger=function(k){if(a.toType(k)==="string")k=a.Event(k);return this.each(function(){this.dispatchEvent(k)})}})(Quo);
(function(a){function f(c){var k=Date.now(),m=k-(b.last||k);c=a.isMobile()?c.touches[0]:c;e&&clearTimeout(e);b={el:a("tagName"in c.target?c.target:c.target.parentNode),x1:c.pageX,y1:c.pageY,isDoubleTap:m>0&&m<=250?true:false,last:k};setTimeout(i,g)}function h(c){c=a.isMobile()?c.touches[0]:c;b.x2=c.pageX;b.y2=c.pageY}function j(){if(b.isDoubleTap){b.el.trigger("doubleTap");b={}}else if(b.x2>0||b.y2>0){(Math.abs(b.x1-b.x2)>30||Math.abs(b.y1-b.y2)>30)&&b.el.trigger("swipe")&&b.el.trigger("swipe"+(Math.abs(b.x1-
b.x2)>=Math.abs(b.y1-b.y2)?b.x1-b.x2>0?"Left":"Right":b.y1-b.y2>0?"Up":"Down"));b.x1=b.x2=b.y1=b.y2=b.last=0;b={}}else{b.el!==undefined&&b.el.trigger("tap");e=setTimeout(function(){e=null;b={}},250)}}function d(){b={};clearTimeout(e)}function i(){if(b.last&&Date.now()-b.last>=g){b.el.trigger("longTap");b={}}}var b={},e,g=750;["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","longTap"].forEach(function(c){a.fn[c]=function(k){return this.on(c,k)}});a(document).ready(function(){var c=
a(document.body);c.bind("touchstart",f);c.bind("touchmove",h);c.bind("touchend",j);c.bind("touchcancel",d)})})(Quo);(function(){var a=Math,f=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"";/android/gi.test(navigator.appVersion);var h=/iphone|ipad/gi.test(navigator.appVersion),j=/playbook/gi.test(navigator.appVersion),d=/hp-tablet/gi.test(navigator.appVersion),i="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,b="ontouchstart"in window&&!d,e=f+"Transform"in document.documentElement.style,g=h||j,c=function(){return window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(l){return setTimeout(l,17)}}(),k=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,m="onorientationchange"in window?"orientationchange":"resize",n=b?"touchstart":"mousedown",
r=b?"touchmove":"mousemove",s=b?"touchend":"mouseup",v=b?"touchcancel":"mouseup",z="translate"+(i?"3d(":"("),y=i?",0)":")";h=function(l,p){var o=document,t;this.wrapper=typeof l=="object"?l:o.getElementById(l);this.wrapper.style.overflow="hidden";this.scroller=this.wrapper.children[0];this.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,onRefresh:null,onBeforeScrollStart:function(q){for(var u=q.target;u.nodeType!=
1;)u=u.parentNode;u.tagName!="SELECT"&&u.tagName!="INPUT"&&u.tagName!="TEXTAREA"&&q.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(t in p)this.options[t]=p[t];this.x=this.options.x;this.y=this.options.y;this.options.useTransform=e?this.options.useTransform:false;this.options.hScrollbar=this.options.hScroll&&this.options.hScrollbar;this.options.vScrollbar=this.options.vScroll&&this.options.vScrollbar;
this.options.useTransition=g&&this.options.useTransition;this.scroller.style[f+"TransitionProperty"]=this.options.useTransform?"-"+f.toLowerCase()+"-transform":"top left";this.scroller.style[f+"TransitionDuration"]="0";this.scroller.style[f+"TransformOrigin"]="0 0";if(this.options.useTransition)this.scroller.style[f+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)";if(this.options.useTransform)this.scroller.style[f+"Transform"]=z+this.x+"px,"+this.y+"px"+y;else this.scroller.style.cssText+=
";position:absolute;top:"+this.y+"px;left:"+this.x+"px";this.refresh();this._bind(m,window);this._bind(n);b||this._bind("mouseout",this.wrapper)};h.prototype={enabled:true,x:0,y:0,steps:[],scale:1,handleEvent:function(l){switch(l.type){case n:if(!b&&l.button!==0)break;this._start(l);break;case r:this._move(l);break;case s:case v:this._end(l);break;case m:this._resize();break;case "mouseout":this._mouseout(l);break;case "webkitTransitionEnd":this._transitionEnd(l)}},_resize:function(){this.refresh()},
_pos:function(l,p){l=this.hScroll?l:0;p=this.vScroll?p:0;if(this.options.useTransform)this.scroller.style[f+"Transform"]=z+l+"px,"+p+"px"+y+" scale("+this.scale+")";else{l>>=0;p>>=0;this.scroller.style.left=l+"px";this.scroller.style.top=p+"px"}this.x=l;this.y=p},_start:function(l){var p=b?l.touches[0]:l,o,t;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,l);this.options.useTransition&&this._transitionTime(0);this.zoomed=this.animating=this.moved=false;
this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.momentum){if(this.options.useTransform){o=getComputedStyle(this.scroller,null)[f+"Transform"].replace(/[^0-9-.,]/g,"").split(",");t=o[4]*1;o=o[5]*1}else{t=getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,"")*1;o=getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")*1}if(t!=this.x||o!=this.y){this.options.useTransition?this._unbind("webkitTransitionEnd"):k(this.aniTime);this.steps=[];this._pos(t,
o)}}this.startX=this.x;this.startY=this.y;this.pointX=p.pageX;this.pointY=p.pageY;this.startTime=l.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,l);this._bind(r);this._bind(s);this._bind(v)}},_move:function(l){var p=b?l.touches[0]:l,o=p.pageX-this.pointX,t=p.pageY-this.pointY,q=this.x+o,u=this.y+t,w=l.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,l);this.pointX=p.pageX;this.pointY=p.pageY;if(q>0||q<this.maxScrollX)q=
this.options.bounce?this.x+o/2:q>=0||this.maxScrollX>=0?0:this.maxScrollX;if(u>0||u<this.maxScrollY)u=this.options.bounce?this.y+t/2:u>=0||this.maxScrollY>=0?0:this.maxScrollY;if(this.absDistX<6&&this.absDistY<6){this.distX+=o;this.distY+=t;this.absDistX=a.abs(this.distX);this.absDistY=a.abs(this.distY)}else{if(this.options.lockDirection)if(this.absDistX>this.absDistY+5){u=this.y;t=0}else if(this.absDistY>this.absDistX+5){q=this.x;o=0}this.moved=true;this._pos(q,u);this.dirX=o>0?-1:o<0?1:0;this.dirY=
t>0?-1:t<0?1:0;if(w-this.startTime>300){this.startTime=w;this.startX=this.x;this.startY=this.y}this.options.onScrollMove&&this.options.onScrollMove.call(this,l)}},_end:function(l){if(!(b&&l.touches.length!=0)){var p=b?l.changedTouches[0]:l,o,t,q={dist:0,time:0},u={dist:0,time:0},w=(l.timeStamp||Date.now())-this.startTime;o=this.x;t=this.y;this._unbind(r);this._unbind(s);this._unbind(v);this.options.onBeforeScrollEnd&&this.options.onBeforeScrollEnd.call(this,l);if(this.moved){if(w<300&&this.options.momentum){q=
o?this._momentum(o-this.startX,w,-this.x,this.scrollerW-this.wrapperW+this.x,this.options.bounce?this.wrapperW:0):q;u=t?this._momentum(t-this.startY,w,-this.y,this.maxScrollY<0?this.scrollerH-this.wrapperH+this.y:0,this.options.bounce?this.wrapperH:0):u;o=this.x+q.dist;t=this.y+u.dist;if(this.x>0&&o>0||this.x<this.maxScrollX&&o<this.maxScrollX)q={dist:0,time:0};if(this.y>0&&t>0||this.y<this.maxScrollY&&t<this.maxScrollY)u={dist:0,time:0}}if(q.dist||u.dist){p=a.max(a.max(q.time,u.time),10);this.scrollTo(o>>
0,t>>0,p)}else this._resetPos(200)}else{if(b){for(o=p.target;o.nodeType!=1;)o=o.parentNode;if(o.tagName!="SELECT"&&o.tagName!="INPUT"&&o.tagName!="TEXTAREA"){t=document.createEvent("MouseEvents");t.initMouseEvent("click",true,true,l.view,1,p.screenX,p.screenY,p.clientX,p.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,0,null);t._fake=true;o.dispatchEvent(t)}}this._resetPos(200)}this.options.onTouchEnd&&this.options.onTouchEnd.call(this,l)}},_resetPos:function(l){var p=this.x>=0?0:this.x<this.maxScrollX?
this.maxScrollX:this.x,o=this.y>=0||this.maxScrollY>0?0:this.y<this.maxScrollY?this.maxScrollY:this.y;if(p==this.x&&o==this.y){if(this.moved){this.options.onScrollEnd&&this.options.onScrollEnd.call(this);this.moved=false}}else this.scrollTo(p,o,l||0)},_mouseout:function(l){var p=l.relatedTarget;if(p)for(;p=p.parentNode;)if(p==this.wrapper)return;this._end(l)},_transitionEnd:function(l){if(l.target==this.scroller){this._unbind("webkitTransitionEnd");this._startAni()}},_startAni:function(){var l=this,
p=l.x,o=l.y,t=Date.now(),q,u,w;if(!l.animating)if(l.steps.length){q=l.steps.shift();if(q.x==p&&q.y==o)q.time=0;l.animating=true;l.moved=true;if(l.options.useTransition){l._transitionTime(q.time);l._pos(q.x,q.y);l.animating=false;q.time?l._bind("webkitTransitionEnd"):l._resetPos(0)}else{w=function(){var x=Date.now();if(x>=t+q.time){l._pos(q.x,q.y);l.animating=false;l.options.onAnimationEnd&&l.options.onAnimationEnd.call(l);l._startAni()}else{x=(x-t)/q.time-1;u=a.sqrt(1-x*x);x=(q.x-p)*u+p;l._pos(x,
(q.y-o)*u+o);if(l.animating)l.aniTime=c(w)}};w()}}else l._resetPos(400)},_transitionTime:function(l){this.scroller.style[f+"TransitionDuration"]=l+"ms"},_momentum:function(l,p,o,t,q){p=a.abs(l)/p;var u=p*p/0.0012,w=0;w=0;if(l>0&&u>o){w=q/(6/(u/p*6.0E-4));o+=w;p=p*o/u;u=o}else if(l<0&&u>t){w=q/(6/(u/p*6.0E-4));t+=w;p=p*t/u;u=t}u*=l<0?-1:1;w=p/6.0E-4;return{dist:u,time:w>>0}},_offset:function(l){for(var p=-l.offsetLeft,o=-l.offsetTop;l=l.offsetParent;){p-=l.offsetLeft;o-=l.offsetTop}return{left:p,top:o}},
_bind:function(l,p,o){(p||this.scroller).addEventListener(l,this,!!o)},_unbind:function(l,p,o){(p||this.scroller).removeEventListener(l,this,!!o)},destroy:function(){this.scroller.style[f+"Transform"]="";this._unbind(m,window);this._unbind(n);this._unbind(r);this._unbind(s);this._unbind(v);this._unbind("mouseout",this.wrapper);this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var l;this.wrapperW=this.wrapper.clientWidth;
this.wrapperH=this.wrapper.clientHeight;this.scrollerW=this.scroller.offsetWidth;this.scrollerH=this.scroller.offsetHeight;this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH;this.dirY=this.dirX=0;this.hScroll=this.options.hScroll&&this.maxScrollX<0;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);l=this._offset(this.wrapper);this.wrapperOffsetLeft=-l.left;this.wrapperOffsetTop=-l.top;this.scroller.style[f+
"TransitionDuration"]="0";this._resetPos(200)},scrollTo:function(l,p,o,t){var q=l;this.stop();q.length||(q=[{x:l,y:p,time:o,relative:t}]);l=0;for(p=q.length;l<p;l++){if(q[l].relative){q[l].x=this.x-q[l].x;q[l].y=this.y-q[l].y}this.steps.push({x:q[l].x,y:q[l].y,time:q[l].time||0})}this._startAni()},scrollToElement:function(l,p){var o;if(l=l.nodeType?l:this.scroller.querySelector(l)){o=this._offset(l);o.left+=this.wrapperOffsetLeft;o.top+=this.wrapperOffsetTop;o.left=o.left>0?0:o.left<this.maxScrollX?
this.maxScrollX:o.left;o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top;p=p===undefined?a.max(a.abs(o.left)*2,a.abs(o.top)*2):p;this.scrollTo(o.left,o.top,p)}},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(r);this._unbind(s);this._unbind(v)},enable:function(){this.enabled=true},stop:function(){k(this.aniTime);this.steps=[];this.animating=this.moved=false}};if(typeof exports!=="undefined")exports.iScroll=h;else window.iScroll=h})();/*
   http://www.github.com/tapquo/lungo/blob/master/LICENSE.txt
 @version   1.2
 @link      https://github.com/TapQuo/Lungo.js

 @author   Javier Jimenez Villar <javi@tapquo.com> || @soyjavi
 @author   Guillermo Pascual <pasku@tapquo.com> || @pasku1
*/
var LUNGO=LUNGO||{};LUNGO.VERSION="1.2";LUNGO.Attributes||(LUNGO.Attributes={});LUNGO.Data||(LUNGO.Data={});LUNGO.Sugar||(LUNGO.Sugar={});LUNGO.View||(LUNGO.View={});LUNGO.Device||(LUNGO.Device={});LUNGO.ready||(LUNGO.ready=Quo().ready);LUNGO.Constants={ELEMENT:{SECTION:"section",ARTICLE:"article",ASIDE:"aside",BODY:"body",DIV:"div",LIST:"<ul></ul>",SPAN:"<span>&nbsp;</span>"},CLASS:{ACTIVE:"active",ASIDE:"aside",SHOW:"show",SHOW_REVOKE:"show-revoke",HIDE:"hide",HIDE_REVOKE:"hide-revoke",CURRENT:"current",RIGHT:"onright",LEFT:"onleft",HORIZONTAL:"horizontal",FLOW:"flow"},TRIGGER:{LOAD:"load",UNLOAD:"unload"},ATTRIBUTE:{ID:"id",HREF:"href",TITLE:"title",ARTICLE:"article",CLASS:"class",WIDTH:"width",HEIGHT:"height",PIXEL:"px",PERCENT:"%",
TARGET:"target",FIRST:"first",LAST:"last",EMPTY:""},BINDING:{START:"{{",END:"}}",KEY:"value",PARSER:/\{{.*?\}}/gi},SCROLL_TO:{FIRST:"first",LAST:"last",NONE:undefined},ERROR:{CREATE_SCROLL:"ERROR: Impossible to create a <scroll> without ID.",SCROLL_TO:'ERROR: This "scroll to" value is not included in the list of possible values. [first|last|none]',BINDING_DATA_TYPE:"ERROR: Processing the type of binding data.",BINDING_TEMPLATE:"ERROR: Binding Template not exists >> ",BINDING_LIST:"ERROR: Processing parameters for list binding.",
DATABASE:"ERROR: Connecting to Data.Sql.",ROUTER:"ERROR: The target does not exists >>",LOADING_RESOURCE:"ERROR: Loading resource."}};LUNGO.App=function(a){var f={id:1,name:"lungo_app",version:1,icon:""};return{init:function(h){f=a.Core.mix(f,h);a.Boot()},get:function(h){return f[h]}}}(LUNGO);LUNGO.Core=function(a,f){var h=Array.prototype,j=function(b,e){return f.isOwnProperty(b,e)},d=function(b){return f.toType(b)},i=function(b){return h.slice.call(b,0)};return{log:function(b,e){a.Core.isMobile()||console[b===1?"log":b===2?"warn":"error"](e)},execute:function(){var b=i(arguments),e=b.shift();d(e)==="function"&&e.apply(null,b)},bind:function(b,e){return function(){return e.apply(b,i(arguments))}},mix:function(){for(var b=b||{},e=0,g=arguments.length;e<g;e++){var c=arguments[e],k;for(k in c)if(j(c,
k))b[k]=c[k]}return b},isOwnProperty:j,toType:d,toArray:i,isMobile:function(){return f.isMobile()},environment:function(){return f.environment()},orderByProperty:function(b,e,g){var c=g==="desc"?-1:1;return b.sort(function(k,m){return k[e]<m[e]?-c:k[e]>m[e]?c:0})},parseUrl:function(b){var e=b.lastIndexOf("#");if(e>0)b=b.substring(e);else if(e===-1)b="#"+b;return b},findByProperty:function(b,e,g){for(var c=null,k=0,m=b.length;k<m;k++){var n=b[k];if(n[e]==g){c=n;break}}return c}}}(LUNGO,Quo);LUNGO.dom=function(a){return $$(a)};LUNGO.Service=function(a,f){var h={MINUTE:"minute",HOUR:"hour",DAY:"day"},j=function(d,i){var b=false,e=a.Data.Storage.persistent("lungojs_service_cache");if(e){e=e[d];b=(new Date).getTime();e=(new Date(e)).getTime();var g=b-e;b=i.split(" ");e=b[1];g=g/1E3/60;if(e.indexOf(h.HOUR)>=0)g/=60;else if(e.indexOf(h.DAY)>=0)g=g/60/24;b=g<b[0]?true:false}return b};return{get:function(d,i,b,e){return f.get(d,i,b,e)},post:function(d,i,b,e){return f.post(d,i,b,e)},json:function(d,i,b){return f.json(d,i,b)},cache:function(d,
i,b,e,g){var c=d+f.serializeParameters(i);if(j(c,b)){if(d=a.Data.Storage.persistent(c))return e.call(e,d)}else return f.get(d,i,function(k){var m=a.Data.Storage.persistent("lungojs_service_cache")||{};m[c]=new Date;a.Data.Storage.persistent("lungojs_service_cache",m);a.Data.Storage.persistent(c,k);e.call(e,k)},g)},Settings:f.ajaxSettings}}(LUNGO,Quo);LUNGO.Fallback=function(a){var f=a.Constants.CLASS,h=function(){a.dom(this).addClass(f.ACTIVE)},j=function(){a.dom(this).removeClass(f.ACTIVE)};return{androidButtons:function(){environment=a.Core.environment();if(environment.isMobile&&environment.os.name==="android"){a.dom(document.body).on("touchstart",".button",h);a.dom(document.body).on("touchend",".button",j)}},androidInputs:function(d,i){environment=a.Core.environment();if(environment.isMobile&&environment.os.name==="android"&&environment.os.version<
"4")for(var b=a.dom(d+" input, "+d+" textarea, "+d+" select"),e=0,g=b.length;e<g;e++)i?b[e].removeAttribute("disabled"):b[e].setAttribute("disabled","disabled")},positionFixed:function(d){environment=a.Core.environment();environment.isMobile&&environment.os.name==="ios"&&environment.os.version>="4.2"&&d.style("position","fixed")}}}(LUNGO);LUNGO.Router=function(a){var f=a.Constants.CLASS,h=a.Constants.ELEMENT,j=a.Constants.ERROR,d=a.Constants.TRIGGER,i=function(e){var g=false;if(a.dom(e).length>0)g=true;else a.Core.log(3,j.ROUTER+e);return g},b=function(){return a.Router.History.current()};return{section:function(e){e=a.Core.parseUrl(e);var g=b(),c=h.SECTION+e;if(i(c)){var k=a.Core.environment();if(k.isMobile&&k.os.name==="ios"){a.dom(g).removeClass(f.HIDE_REVOKE).removeClass(f.SHOW).addClass(f.HIDE);a.dom(c).removeClass(f.SHOW_REVOKE).addClass(f.SHOW).removeClass(f.HIDE).trigger(d.LOAD)}else{a.dom(g).removeClass(f.HIDE_REVOKE).removeClass(f.SHOW_REVOKE).removeClass(f.SHOW).addClass(f.HIDE).removeClass(f.CURRENT);
a.dom(c).removeClass(f.SHOW_REVOKE).removeClass(f.HIDE_REVOKE).removeClass(f.HIDE).addClass(f.SHOW).trigger(d.LOAD)}a.Router.History.add(e)}},article:function(e,g){e=a.Core.parseUrl(e);g=a.Core.parseUrl(g);var c=h.SECTION+e+" "+h.ARTICLE+g;if(i(c)){a.dom(c).trigger(d.LOAD);a.View.Article.show(e,g)}},aside:function(e,g){e=a.Core.parseUrl(e);g=a.Core.parseUrl(g);var c=h.ASIDE+g;if(i(c))a.dom(c).hasClass(f.CURRENT)?a.View.Aside.hide(e,g):a.View.Aside.show(e,g)},back:function(){var e=h.SECTION+b(),g=
a.Core.environment();if(g.isMobile&&g.os.name==="ios"){a.dom(e).removeClass(f.SHOW).addClass(f.SHOW_REVOKE).trigger(d.UNLOAD);a.Router.History.removeLast();a.dom(b()).removeClass(f.HIDE).addClass(f.HIDE_REVOKE).addClass(f.SHOW)}else{a.dom(e).removeClass(f.HIDE_REVOKE).removeClass(f.SHOW_REVOKE).removeClass(f.SHOW).addClass(f.HIDE).trigger(d.UNLOAD);a.Router.History.removeLast();a.dom(b()).removeClass(f.SHOW_REVOKE).removeClass(f.HIDE_REVOKE).removeClass(f.HIDE).addClass(f.SHOW)}}}}(LUNGO);LUNGO.Router.History=function(){var a=[],f=function(){return a[a.length-1]};return{add:function(h){h!==f()&&a.push(h)},current:f,removeLast:function(){a.length-=1}}}();LUNGO.View.Article=function(a){var f=a.Constants.ELEMENT,h=a.Constants.CLASS,j=a.Constants.ATTRIBUTE,d=a.Constants.TRIGGER,i={NAVIGATION_ITEM:'a[href][data-target="article"]',REFERENCE_LINK:" a[href][data-article]"},b=function(e,g){for(var c=a.dom(f.SECTION+e+i.REFERENCE_LINK),k=0,m=c.length;k<m;k++){var n=a.dom(c[k]);n.data(j.ARTICLE)===g?n.show():n.hide()}};return{show:function(e,g){var c=a.dom(e+" "+i.NAVIGATION_ITEM);c.removeClass(h.CURRENT);for(var k=0,m=c.length;k<m;k++){var n=a.dom(c[k]);if(a.Core.parseUrl(n.attr(j.HREF))===
g){n.addClass(h.CURRENT);var r=e;(n=n.data(j.TITLE))&&a.dom(r+" header .title, "+r+" footer .title").text(n)}}b(e,g.replace("#",""));c=e+" "+f.ARTICLE+"."+h.CURRENT;k="#"+a.dom(c).attr(j.ID);a.dom(c).removeClass(h.CURRENT).trigger(d.UNLOAD);a.Fallback.androidInputs(k,false);a.dom(g).addClass(h.CURRENT);a.Fallback.androidInputs(g,true)},showReferenceLinks:b}}(LUNGO);LUNGO.View.Resize=function(a){var f=a.Constants.ATTRIBUTE;return{toolbars:function(){for(var h=".toolbar nav, .groupbar",j=a.dom(h),d=0,i=j.length;d<i;d++){h=a.dom(j[d]);var b=h.children();h=100/h.children().length;b.style(f.WIDTH,h+f.PERCENT)}}}}(LUNGO);LUNGO.View.Template=function(a){var f=a.Constants.ERROR,h={};return{create:function(j,d){h[j]=d},exists:function(j){return h[j]?true:false},get:function(j){return h[j]},render:function(j,d,i,b){if(a.View.Template.exists(d)){j=a.dom(j);d=this.markup(d,i);j.html(d);a.Core.execute(b)}else a.Core.log(3,f.BINDING_TEMPLATE+d)},markup:function(j,d){return a.View.Template.Binding.create(j,d)}}}(LUNGO);LUNGO.View.Template.Binding=function(a){var f=a.Constants.BINDING,h=a.Constants.ERROR,j=function(d,i){var b,e;for(e in d)if(a.Core.isOwnProperty(d,e)&&d[e]!==null){b=RegExp(f.START+e+f.END,"g");i=i.replace(b,d[e])}return i.replace(f.PARSER,"")};return{create:function(d,i){var b;var e=a.View.Template.get(d),g=a.Core.toType(i);if(g==="array"){b="";g=0;for(var c=i.length;g<c;g++)b+=j(i[g],e);b=b}else if(g==="object")b=j(i,e);else a.Core.log(3,h.BINDING_DATA_TYPE);return b},dataAttribute:function(d,i){var b=
d.data(i.tag);if(b){b=i.html.replace(f.START+f.KEY+f.END,b);d.prepend(b)}}}}(LUNGO);LUNGO.View.Template.List=function(a,f){var h=a.Constants.ERROR,j=a.Constants.ATTRIBUTE,d=function(b,e){var g=f;if(b.scroll_to==f)g=e;else if(b.scroll_to.toUpperCase()in a.Constants.SCROLL_TO)g=a.Constants.SCROLL_TO[b.scroll_to.toUpperCase()];else{g=e;a.Core.log(2,h.SCROLL_TO)}return g},i=function(b,e){var g=a.dom(b).attr(j.ID);a.View.Scroll.init(g);if(e)a.View.Scroll[e===j.FIRST?j.FIRST:j.LAST](g)};return{create:function(b){b.container=a.dom(b.el).children().first();var e=false,g=!!b.container.length>
0,c=a.View.Template.exists(b.template);if(g&&c){g=a.Core.toType(b.data);if(g==="array"||g==="object")e=true}else a.Core.log(3,h.BINDING_LIST);if(e){if(b.order&&b.order.field&&b.order.type)b.data=a.Core.orderByProperty(b.data,b.order.field,b.order.type);b.data=b.data;a.View.Template.render(b.container.selector,b.template,b.data);i(b.el)}},append:function(b){var e=a.View.Template.markup(b.template,b.data),g=a.dom(b.el).children().first(),c=d(b,j.LAST);g.append(e);i(b.el,c)},prepend:function(b){var e=
a.View.Template.markup(b.template,b.data),g=a.dom(b.el).children().first(),c=d(b,j.FIRST);g.prepend(e);i(b.el,c)}}}(LUNGO);LUNGO.View.Scroll=function(a){var f=a.Constants.CLASS,h=a.Constants.ATTRIBUTE,j=a.Constants.ERROR,d={hScroll:false,vScroll:false,useTransition:true,momentum:true,lockDirection:true,fixedScrollbar:true,fadeScrollbar:true,hideScrollbar:true},i=function(c){if(a.Data.Cache.exists("scrolls")&&a.Data.Cache.get("scrolls",c)){a.Data.Cache.get("scrolls",c).destroy();a.Data.Cache.remove("scrolls",c)}},b=function(c){c=a.dom("#"+c);var k=c.children().first();if(k.length===0){c.html("<div></div>");k=c.children().first()}return k},
e=function(c,k){var m=a.dom("#"+c),n=m[0];if(g(a.dom(n))?n.clientWidth<n.scrollWidth:n.clientHeight<n.scrollHeight){n=k;m=g(m)?"hScroll":"vScroll";n||(n={});n[m]=true;m=k=n=a.Core.mix(d,n);a.Data.Cache.exists("scrolls")||a.Data.Cache.set("scrolls",{});n=a.Data.Cache.get("scrolls");if(n[c])n[c].refresh();else n[c]=new iScroll(c,m);a.Data.Cache.set("scrolls",n)}else i(c)},g=function(c){return c.hasClass(f.HORIZONTAL)?true:false};return{init:function(c,k){c?e(c,k):a.Core.log(3,j.CREATE_SCROLL)},remove:i,
refresh:function(c,k){e(c,k)},html:function(c,k){b(c).html(k);e(c)},append:function(c,k){b(c).append(k);e(c)},first:function(c){var k=a.Data.Cache.get("scrolls");k[c]&&k[c].scrollTo(0,0,250)},last:function(c){var k=a.Data.Cache.get("scrolls",c);if(k){c=a.dom("#"+c).first();var m=0,n=0;if(g(c))m=-(c.children().first()[h.WIDTH]()-c[h.WIDTH]());else n=-(c.children().first()[h.HEIGHT]()-c[h.HEIGHT]());k.scrollTo(m,n,250)}}}}(LUNGO);LUNGO.View.Aside=function(a){var f=a.Constants.ELEMENT,h=a.Constants.CLASS,j=a.Constants.ATTRIBUTE;return{show:function(d,i){var b=a.dom(f.ASIDE+i),e=b.attr(j.CLASS)||"";a.dom(f.SECTION+d).addClass(e).addClass(h.ASIDE);b.addClass(h.CURRENT)},hide:function(d,i){a.dom(f.ASIDE+i);a.dom(f.SECTION+d).removeClass(h.ASIDE).removeClass(h.RIGHT);setTimeout(function(){a.dom(f.ASIDE+i+"."+h.CURRENT).removeClass(h.CURRENT)},300)}}}(LUNGO);LUNGO.View.Element=function(a){var f=a.Constants.ATTRIBUTE,h=a.Constants.BINDING,j={BUBBLE:".bubble.count",PROGRESS_VALUE:" .value",PROGRESS_PERCENTAGE:" .labels span:last-child",PROGRESS_DESCRIPTION:" .labels span:first-child"};return{count:function(d,i){var b=a.dom(d);if(b)if(i>0){var e=b.children(j.BUBBLE);if(e.length>0)e.html(i);else{e=LUNGO.Attributes.Data.Count.html.replace(h.START+h.KEY+h.END,i);b.append(e)}}else b.children(j.BUBBLE).remove()},progress:function(d,i,b,e){if(a.dom(d)){i+=f.PERCENT;
a.dom(d+j.PROGRESS_VALUE).style(f.WIDTH,i);i=i;a.dom(d+j.PROGRESS_PERCENTAGE).html(b?i:f.EMPTY);a.dom(d+j.PROGRESS_DESCRIPTION).html(b?e:f.EMPTY)}}}}(LUNGO);LUNGO.Attributes.Data={Search:{tag:"search",selector:".list",html:'<li class="search {{value}}"><input type="search" placeholder="Search..."><a href="#" class="button" data-icon="search"></a></li>'},Count:{tag:"count",selector:"*",html:'<span class="bubble count">{{value}}</span>'},Search:{tag:"search",selector:"*",html:'<input type="search" placeholder="{{value}}"/><a href="#" class="button" data-icon="search"></a>'},Progress:{tag:"progress",selector:"*",html:'<div class="progress" id="yeal">                    <span class="labels"><span></span><span></span></span>                    <span class="bar"><span class="value" style="width:{{value}};"><span class="glow"></span></span></span>                </div>'},
Label:{tag:"label",selector:"a",html:"<abbr>{{value}}</abbr>"},Icon:{tag:"icon",selector:"*",html:'<span class="icon {{value}}"></span>'},Image:{tag:"image",selector:"*",html:'<img src="{{value}}" class="icon" />'},Title:{tag:"title",selector:"header, footer, article",html:'<span class="title">{{value}}</span>'},Back:{tag:"back",selector:"header, footer",html:'<a href="#back" data-target="section" class="onleft button default"><span class="icon {{value}}"></span></a>'}};LUNGO.Data.Cache=function(a,f){var h={},j=function(i){return arguments.length===1?h[i]:h[arguments[0]]?h[arguments[0]][arguments[1]]:f},d=function(i){return h[i]?true:false};return{set:function(i,b){h[i]=d(i)?a.Core.mix(j(i),b):b},get:j,remove:function(i){if(arguments.length===1)delete h[i];else delete h[arguments[0]][arguments[1]]},exists:d}}(LUNGO);LUNGO.Data.Sql=function(a){var f=a.Constants.ERROR,h={name:"lungo_db",version:"1.0",size:65536,schema:[]},j=null,d=function(c,k){a.Core.log(1,"lng.Data.Sql >> "+c);j.transaction(function(m){m.executeSql(c,[],function(n,r){b(k,r)},function(n){n.executedQuery=c;g.apply(null,arguments)})})},i=function(c,k){var m="",n;for(n in c)if(a.Core.isOwnProperty(c,n)){var r=c[n];if(m)m+=" "+k+" ";m+=n+"=";m+=isNaN(r)?'"'+r+'"':r}return m},b=function(c,k){a.Core.toType(c)==="function"&&setTimeout(c,100,k)},e=function(c,
k){var m="",n="",r;for(r in k)if(a.Core.isOwnProperty(k,r)){var s=k[r];m+=m?", "+r:r;if(n)n+=", ";n+=isNaN(s)?'"'+s+'"':s}d("INSERT INTO "+c+" ("+m+") VALUES ("+n+")")},g=function(c,k){a.Core.log(3,"lng.Data.Sql >> "+k.code+": "+k.message+" \n Executed query: "+c.executedQuery)};return{init:function(c){h=a.Core.mix(h,c);if(j=openDatabase(h.name,h.version,h.name,h.size)){c=h.schema;var k=c.length;if(k)for(var m=0;m<k;m++){var n=c[m];n.drop===true&&d("DROP TABLE IF EXISTS "+n.name);var r=n.name;n=n.fields;
var s="",v=void 0;for(v in n)if(a.Core.isOwnProperty(n,v)){if(s)s+=", ";s+=v+" "+n[v]}d("CREATE TABLE IF NOT EXISTS "+r+" ("+s+");")}}else a.Core.log(3,f.DATABASE)},select:function(c,k,m){k=k?" WHERE "+i(k,"AND"):"";d("SELECT * FROM "+c+k,function(n){for(var r=[],s=0,v=n.rows.length;s<v;s++)r.push(n.rows.item(s));b(m,r)})},insert:function(c,k){if(a.Core.toType(k)==="object")e(c,k);else for(row in k)e(c,k[row])},update:function(c,k,m){c="UPDATE "+c+" SET "+i(k,",");if(m)c+=" WHERE "+i(m,"AND");d(c)},
drop:function(c,k){var m=k?" WHERE "+i(k,"AND"):"";d("DELETE FROM "+c+m+";")},execute:d}}(LUNGO);LUNGO.Data.Storage=function(){var a={PERSISTENT:"localStorage",SESSION:"sessionStorage"},f=function(h,j,d){h=window[h];if(d){h=h;d=d;d=JSON.stringify(d);h.setItem(j,d)}else{d=d;d=h.getItem(j);return JSON.parse(d)}};return{session:function(h,j){return f(a.SESSION,h,j)},persistent:function(h,j){return f(a.PERSISTENT,h,j)}}}(LUNGO);LUNGO.Boot=function(a){return function(){a.Boot.Resources.start();a.Boot.Layout.start();a.Boot.Events.start();a.Boot.Data.start();a.Boot.Section.start();a.Boot.Article.start();a.Boot.Stats.start()}}(LUNGO);LUNGO.Boot.Resources=function(a,f){var h=a.Constants.ELEMENT,j=a.Constants.ERROR,d={SECTION:"sections",TEMPLATE:"templates",SCRIPT:"scripts"},i=function(b){return f.ajax({url:b,async:false,dataType:"html",error:function(){console.error("[ERROR] Loading url",arguments)}})};return{start:function(){var b=a.App.get("resources");for(resource_key in b){var e=resource_key,g=b[resource_key];for(index in g){var c=/http/.test(g[index])?g[index]:"app/"+e+"/"+g[index];try{var k=i(c);switch(e){case d.SECTION:c=
k;a.Core.toType(c)==="string"&&a.dom(h.BODY).append(c);break;case d.TEMPLATE:c=k;var m=document.createElement(h.DIV);m.innerHTML=c;var n=a.dom(m.firstChild).data("template");n&&a.View.Template.create(n,c)}}catch(r){a.Core.log(3,j.LOADING_RESOURCE+" "+r)}}}}}}(LUNGO,Quo);LUNGO.Boot.Stats=function(a){return{start:function(){a.Core.isMobile()}}}(LUNGO);LUNGO.Boot.Layout=function(a){var f=null,h=null,j=a.Constants.ELEMENT,d=a.Constants.ATTRIBUTE,i=function(){if(!location.hash||!f.addEventListener){f.scrollTo(0,1);var b=1,e=setInterval(function(){if(h.body){clearInterval(e);b="scrollTop"in h.body?h.body.scrollTop:1;f.scrollTo(0,b===1?0:1)}},15);f.addEventListener("load",function(){setTimeout(function(){f.scrollTo(0,b===1?0:1)},0)},false)}};return{start:function(){if(a.Core.isMobile()){f=window;h=f.document;if(f.innerHeight==356){a.dom(j.BODY).style(d.HEIGHT,
416+d.PIXEL);i()}}}}}(LUNGO);LUNGO.Boot.Article=function(a){var f=a.Constants.ATTRIBUTE,h=a.Constants.ELEMENT,j={LIST_IN_ARTICLE:"article.list, aside.list",SCROLL_IN_ARTICLE:".scrollable",CHECKBOX_IN_ARTICLE:".checkbox, .radio"},d=function(g,c){for(var k=a.dom(g),m=0,n=k.length;m<n;m++){var r=a.dom(k[m]);a.Core.execute(c,r)}},i=function(g){if(g.children().length===0){g.attr(f.ID);g.append(h.LIST)}},b=function(g){g=g.attr(f.ID);a.View.Scroll.init(g)},e=function(g){g.append(h.SPAN)};return{start:function(){d(j.LIST_IN_ARTICLE,
i);d(j.SCROLL_IN_ARTICLE,b);d(j.CHECKBOX_IN_ARTICLE,e)}}}(LUNGO);LUNGO.Boot.Data=function(a){return{start:function(){var f=a.Attributes.Data,h;for(h in f)if(a.Core.isOwnProperty(f,h))for(var j=f[h],d=a.dom(j.selector),i=0,b=d.length;i<b;i++){var e=a.dom(d[i]);a.View.Template.Binding.dataAttribute(e,j)}}}}(LUNGO);LUNGO.Boot.Events=function(a){var f=a.Constants.ATTRIBUTE,h=a.Constants.CLASS,j=a.Constants.ELEMENT,d={HREF_TARGET:"a[href][data-target]",HREF_TARGET_FROM_ASIDE:"aside a[href][data-target]"},i=function(){a.View.Resize.toolbars()},b=function(){var g=a.dom(this),c="#"+g.parent(j.ASIDE).attr(f.ID),k="#"+a.dom("section.aside, section.current").first().attr(f.ID);if(g.data(f.TARGET)===j.ARTICLE){a.dom(j.ASIDE+c+" "+d.HREF_TARGET).removeClass(h.CURRENT);g.addClass(h.CURRENT)}window.innerWidth<768&&a.View.Aside.hide(k,
c)},e=function(g){var c=a.dom(this);switch(c.data(f.TARGET)){case j.SECTION:c=c.attr(f.HREF);c=a.Core.parseUrl(c);c==="#back"?a.Router.back():a.Router.section(c);break;case j.ARTICLE:var k=a.Router.History.current();c=c.attr(f.HREF);a.Router.article(k,c);break;case j.ASIDE:k=a.Router.History.current();c=c.attr(f.HREF);a.Router.aside(k,c)}g.preventDefault()};return{start:function(){a.dom(window).on("resize",i);a.dom(d.HREF_TARGET_FROM_ASIDE).tap(b);a.dom(d.HREF_TARGET).tap(e);a.Fallback.androidButtons()}}}(LUNGO);LUNGO.Boot.Section=function(a){var f=a.Constants.ELEMENT,h=a.Constants.CLASS,j=a.Constants.ATTRIBUTE;return{start:function(){var d=a.dom(f.SECTION),i=d.first(),b="#"+i.attr(j.ID);i.addClass(h.CURRENT);a.Router.History.add(b);a.Fallback.positionFixed(d);i=0;for(b=d.length;i<b;i++){var e=a.dom(d[i]),g=e.children(f.ARTICLE).first();g.addClass(h.CURRENT);g=g.attr(j.ID);e="#"+e.attr(j.ID);a.View.Article.showReferenceLinks(e,g)}a.View.Resize.toolbars()}}}(LUNGO);
